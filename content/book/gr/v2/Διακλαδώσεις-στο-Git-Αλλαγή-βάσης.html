---
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: gr
  chapter:
    title: Διακλαδώσεις στο Git
    number: 3
  section:
    title: Αλλαγή βάσης
    number: 6
    cs_number: '3.6'
    previous: book/gr/v2/Διακλαδώσεις-στο-Git-Απομακρυσμένοι-κλάδοι
    next: book/gr/v2/Διακλαδώσεις-στο-Git-Ανακεφαλαίωση
title: Git - Αλλαγή βάσης

---
<h2 id="r_rebasing">Αλλαγή βάσης</h2>
<div class="paragraph">
<p>
Στο Git, υπάρχουν δύο βασικοί τρόποι ενσωμάτωσης αλλαγών από έναν κλάδο σε έναν άλλο: με την εντολή <code>merge</code> και την εντολή <code>rebase</code> (αλλαγή βάσης).
Σε αυτήν την ενότητα θα δούμε τι είναι η αλλαγή βάσης, πώς την κάνουμε, γιατί θεωρείται εκπληκτικό εργαλείο και σε ποιες περιπτώσεις δεν θα θέλουμε να τη χρησιμοποιήσουμε.</p>
</div>
<div class="sect3">
<h3 id="_η_βασική_μορφή_αλλαγής_βάσης">Η βασική μορφή αλλαγής βάσης</h3>
<div class="paragraph">
<p>Εάν επιστρέψουμε σε ένα παλαιότερο παράδειγμα από τοην ενότητα <a href="ch00/r_basic_merging">Συγχωνεύσεις —τα βασικά</a>, θα δούμε ότι η δουλειά μας είχε αποκλίνει και είχαμε κάνει υποβολές σε δύο διαφορετικούς κλάδους.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/basic-rebase-1.png" >}}" alt="Απλό αποκλίνον ιστορικό.">
</div>
<div class="title">Figure 35. Απλό αποκλίνον ιστορικό.</div>
</div>
<div class="paragraph">
<p>Ο ευκολότερος τρόπος ενσωμάτωσης των κλάδων, όπως έχουμε ήδη δει, είναι η εντολή <code>merge</code> (συγχώνευση).
Επιτελεί μια τριμερή συγχώνευση μεταξύ των δύο τελευταίων στιγμιότυπων διακλάδωσης (<code>C3</code> και`C4`) και του πιο πρόσφατου κοινού προγόνου τους (<code>C2</code>), δημιουργώντας ένα νέο στιγμιότυπο (και μία νέα υποβολή).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/basic-rebase-2.png" >}}" alt="Συγχώνευση και ενσωμάτωση αποκλίνοντος ιστορικού εργασίας.">
</div>
<div class="title">Figure 36. Συγχώνευση και ενσωμάτωση αποκλίνοντος ιστορικού εργασίας.</div>
</div>
<div class="paragraph">
<p>Ωστόσο, υπάρχει κι ένας άλλος τρόπος: μπορούμε να πάρουμε μόνον το επίθεμα με τις τροποποιήσεις που εισήχθησαν με την υποβολή <code>C4</code> και να το εφαρμόσουμε ξανά στο στιγμιότυπο <code>C3</code>.
Στο Git, αυτό ονομάζεται <em>αλλαγή βάσης</em> ή <em>επανατοποθέτηση</em> (rebasing).
Με την εντολή <code>rebase</code> μπορούμε να πάρουμε όλες τις αλλαγές που υποβλήθηκαν σε ένα κλάδο και να τις επαναλάβουμε σε έναν άλλο.</p>
</div>
<div class="paragraph">
<p>Σε αυτό το παράδειγμα, θα τρέχαμε τα παρακάτω:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout experiment
$ git rebase master
First, rewinding head to replay your work on top of it...
Applying: added staged command</code></pre>
</div>
</div>
<div class="paragraph">
<p>Η διαδικασία που ακολουθείται με την εντολή <code>rebase</code> είναι η εξής: μεταβαίνει στον κοινό πρόγονο των δύο κλάδων (εκείνου στον οποίο βρισκόμαστε και εκείνου ο οποίος θα γίνει η νέα βάση), παίρνει τις διαφορές (diff) που εισάγονται από κάθε υποβολή του κλάδου στον οποίο βρισκόμαστε, αποθηκεύει αυτές τις διαφορές σε προσωρινά αρχεία, μετατοπίζει τον τρέχοντα κλάδο στην ίδια υποβολή στην οποία βρίσκεται και ο κλάδος ο οποίος θα γίνει η νέα βάση και, τέλος, εφαρμόζει τις αλλαγές τη μία μετά την άλλη διαδοχικά.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/basic-rebase-3.png" >}}" alt="Αλλαγή της βάσης των τροποποιήσεων της `C4` από τη `C2` στη `C3`.">
</div>
<div class="title">Figure 37. Αλλαγή της βάσης των τροποποιήσεων της <code>C4</code> από τη <code>C2</code> στη <code>C3</code>.</div>
</div>
<div class="paragraph">
<p>Σε αυτό το σημείο, μπορούμε να επιστρέψουμε στον κλάδο <code>master</code> και να κάνουμε μία συγχώνευση ταχυπροώθησης.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge experiment</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/basic-rebase-4.png" >}}" alt="Ταχυπροώθηση του κύριου κλάδου.">
</div>
<div class="title">Figure 38. Ταχυπροώθηση του κύριου κλάδου.</div>
</div>
<div class="paragraph">
<p>Πλέον το στιγμιότυπο στο οποίο δείχνει η υποβολή <code>C4'</code> είναι ακριβώς ίδιο με αυτό στο οποίο δείχνει η <code>C5</code> στο παλιότερο παράδειγμα με τη συγχώνευση.
Το τελικό προϊόν της ενσωμάτωσης των αλλαγών είναι ακριβώς το ίδιο, αλλά η αλλαγή της βάσης κρατά το ιστορικό πιο συμμαζεμένο.
Αν εξετάσουμε το μητρώο ενός επανατοποθετημένου (σε νέα βάση) κλάδου, φαίνεται σαν το ιστορικό να είναι γραμμικό, δηλαδή σαν όλη η εργασία να συνέβη ακολουθιακά παρά το ότι αρχικά γινόταν παράλληλα.</p>
</div>
<div class="paragraph">
<p>Συνήθως, θα κάνουμε κάτι τέτοιο για να βεβαιωθούμε ότι οι υποβολές μας εφαρμόζονται χωρίς συγκρούσεις σε έναν απομακρυσμένο κλάδο —ενδεχομένως σε ένα έργο στο οποίο συμβάλλουμε, αλλά δεν το διαχειριζόμαστε.
Σε μία τέτοια περίπτωση, θα κάναμε τη δουλειά μας σε έναν κλάδο και στη συνέχεια θα αλλάζαμε τη βάση (επανατοποθετούσαμε) της εργασίας μας στον κλάδο <code>origin/master</code> όταν ήμασταν έτοιμοι να υποβάλλουμε τα επιθέματά μας στο κύριο έργο.
Με αυτόν τον τρόπο, ο διαχειριστής του έργου δεν χρειάζεται να κάνει καμία εργασία ενσωμάτωσης —απλά μια ταχυπροώθηση ή μια καθαρή εφαρμογή.</p>
</div>
<div class="paragraph">
<p>Ας σημειωθεί ότι το στιγμιότυπο στο οποίο δείχνει η υποβολή στην οποία καταλήγουμε, είναι το ίδιο είτε πρόκειται για την τελευταία από τις επανατοποθετημένες υποβολές μετά από αλλαγή βάσης είτε για την τελική υποβολή συγχώνευσης μετά από μία συγχώνευση —το μόνο που είναι διαφορετικό είναι το ιστορικό.
Η αλλαγή βάσης εφαρμόζει τις τροποποιήσεις μίας γραμμής εργασίας σε μία άλλη με τη σειρά που έγιναν, ενώ η συγχώνευση παίρνει τα τελικά στιγμιότυπα και τα συγχωνεύει.</p>
</div>
</div>
<div class="sect3">
<h3 id="_μερικές_ενδιαφέρουσες_αλλαγές_βάσης">Μερικές ενδιαφέρουσες αλλαγές βάσης</h3>
<div class="paragraph">
<p>Μπορούμε επίσης να επανατοποθετήσουμε έναν κλάδο πάνω σε κάποιον κλάδο διαφορετικό από αυτόν στον οποίο βασιζόταν αρχικά.
Για παράδειγμα, ας πάρουμε ένα ιστορικό όπως το <a href="ch00/rrbdiag_e">ιστορικό με έναν θεματικό κλάδο να βασίζεται σε έναν άλλο θεματικό κλάδο</a>.
Έχουμε δημιουργήσει έναν θεματικό κλάδο (<code>server</code>) για να προσθέσουμε κάποια λειτουργικότητα από την πλευρά του διακομιστή στο έργο μας και πραγματοποιήσαμε μια υποβολή.
Στη συνέχεια, δημιουργήσαμε μία ακόμα διακλάδωση για να κάνουμε τις αλλαγές από την πλευρά του πελάτη (<code>client</code>) και κάναμε επίσης μερικές υποβολές.
Τέλος, επιστρέψαμε στον κλάδο <code>server</code> και κάναμε μερικές ακόμη υποβολές.</p>
</div>
<div id="rrbdiag_e" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/interesting-rebase-1.png" >}}" alt="Ιστορικό με έναν έναν θεματικό κλάδο να βασίζεται σε έναν άλλο θεματικό κλάδο.">
</div>
<div class="title">Figure 39. ιστορικό με έναν θεματικό κλάδο να βασίζεται σε έναν άλλο θεματικό κλάδο</div>
</div>
<div class="paragraph">
<p>Ας υποθέσουμε ότι αποφασίζουμε να συγχωνεύσουμε τις αλλαγές από την πλευρά του πελάτη στην κεντρική γραμμή που θα δημοσιευτεί, αλλά θέλουμε να αναβάλλουμε τις αλλαγές από την πλευρά του διακομιστή μέχρι να εξεταστούν περαιτέρω.
Μπορούμε να πάρουμε τις αλλαγές από τον κλάδο <code>client</code> που δεν βρίσκονται στον κλάδο <code>server</code> (<code>C8</code> και`C9`) και να τις αναπαράγουμε στον κύριο κλάδο μας χρησιμοποιώντας την επιλογή <code>--onto</code> της <code>git rebase</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rebase --onto master server client</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αυτή η εντολή ουσιαστικά λέει, “Πήγαινε στον κλάδο <code>client</code>, εντόπισε τα επιθέματα από τότε που απέκλινε από τον κλάδο <code>server</code> και εφάρμοσέ τα στον κλάδο <code>client</code> σαν ο κλάδος <code>client</code> να ήταν κλάδος που απέκλινε από τον κλάδο <code>master</code>”.
Είναι λίγο περίπλοκο, αλλά το αποτέλεσμα είναι μια ομορφιά.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/interesting-rebase-2.png" >}}" alt="Αλλαγή βάσης ενός θεματικού κλάδου που βασίζεται σε έναν άλλο θεματικό κλάδο.">
</div>
<div class="title">Figure 40. Αλλαγή βάσης ενός θεματικού κλάδου που βασίζεται σε έναν άλλο θεματικό κλάδο.</div>
</div>
<div class="paragraph">
<p>Τώρα μπορούμε να ταχυπροωθήσουμε τον κλάδο <code>master</code> (βλ. <a href="ch00/rrbdiag_g">Ταχυπροώθηση του κλάδου  <code>master</code> ώστε να περιλάβει τις αλλαγές του κλάδου <code>client</code>.</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge client</code></pre>
</div>
</div>
<div id="rrbdiag_g" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/interesting-rebase-3.png" >}}" alt="Ταχυπροώθηση του κλάδου `master` ώστε να περιλάβει τις αλλαγές του κλάδου `client`.">
</div>
<div class="title">Figure 41. Ταχυπροώθηση του κλάδου  <code>master</code> ώστε να περιλάβει τις αλλαγές του κλάδου <code>client</code>.</div>
</div>
<div class="paragraph">
<p>Ας πούμε ότι τώρα αποφασίζουμε να ενσωματώσουμε και τις αλλάγες του κλάδου <code>server</code>.
Μπορούμε να αλλάξουμε τη βάση του κλάδου <code>server</code> (στον κλάδο <code>master</code>) χωρίς να έχουμε προηγουμένως μεταβεί σε αυτόν εκτελώντας την <code>git rebase &lt;νέα_βάση&gt; &lt;θεματικός_κλάδος&gt;</code>, η οποία μας μεταφέρει στον θεματικό κλάδο (σε αυτήν την περίπτωση, τον <code>server</code>) και εφαρμόζει τις αλλαγές του στη νέα βάση (<code>master</code>) συγχρόνως:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rebase master server</code></pre>
</div>
</div>
<div class="paragraph">
<p>Το αποτέλεσμα της παραπάνω εντολής φαίνεται στην <a href="ch00/rrbdiag_h">Αλλαγή της βάσης του κλάδου <code>server</code> στον κλάδο <code>master</code></a>.</p>
</div>
<div id="rrbdiag_h" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/interesting-rebase-4.png" >}}" alt="Αλλαγή της βάσης του κλάδου `server` στον κλάδο `master`.">
</div>
<div class="title">Figure 42. Αλλαγή της βάσης του κλάδου <code>server</code> στον κλάδο <code>master</code>
</div>
</div>
<div class="paragraph">
<p>Στη συνέχεια μπορούμε να ταχυπροωθήσουμε τον κλάδο-βάση (<code>master</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge server</code></pre>
</div>
</div>
<div class="paragraph">
<p>Μπορούμε να αφαιρέσουμε τους κλάδους <code>client</code> και <code>server</code> επειδή όλη δουλειά μας έχει ενσωματωθεί και δεν τους χρειαζόμαστε πια. Κάτι τέτοιο θα κάνει το ιστορικό μας, μετά από όλη αυτήν τη διαδικασία, να μοιάζει με το <a href="ch00/rrbdiag_i">Τελικό ιστορικό υποβολών</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d client
$ git branch -d server</code></pre>
</div>
</div>
<div id="rrbdiag_i" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/interesting-rebase-5.png" >}}" alt="Τελικό ιστορικό υποβολών.">
</div>
<div class="title">Figure 43. Τελικό ιστορικό υποβολών</div>
</div>
</div>
<div class="sect3">
<h3 id="r_rebase_peril">Οι κίνδυνοι της αλλαγής βάσης</h3>
<div class="paragraph">
<p>
Όμως η ευδαιμονία που μας προσφέρει η αλλαγή βάσης έχει κάποιο αντίτιμο, το οποίο μπορεί να συνοψιστεί σε μία γραμμή:</p>
</div>
<div class="paragraph">
<p><strong>Δεν αλλάζουμε τη βάση υποβολών που υπάρχουν εκτός του αποθετηρίου μας.</strong></p>
</div>
<div class="paragraph">
<p>Αν ακολουθήσουμε αυτήν τη συμβουλή, θα είμαστε μια χαρά.
Αν δεν το κάνουμε, θα γίνουμε μισητοί σε όλη την οικουμένη και και θα μας περιφρονήσουν φίλοι και συγγενείς.</p>
</div>
<div class="paragraph">
<p>Όταν αλλάζουμε τη βάση ενός κλάδου, εγκαταλείπουμε τις υπάρχουσες υποβολές και δημιουργούμε νέες που είναι παρόμοιες μεν, διαφορετικές δε.
Εάν ωθήσουμε υποβολές κάπου και άλλοι τις έλξουν, βασίσουν τη δουλειά τους σε αυτές και στη συνέχεια ξαναγράψουμε αυτές τις υποβολές με την <code>git rebase</code> και τις ωθήσουμε ξανά, οι συνεργάτες μας θα πρέπει να ξανασυγχωνεύσουν τη δουλειά τους και τα πράγματα θα μπλέξουν όταν προσπαθήσουμε να έλξουμε τη δουλειά τους στη δική μας.</p>
</div>
<div class="paragraph">
<p>Ας δούμε ένα παράδειγμα του τρόπου με τον οποίο η αλλαγή της βάσης εργασίας που έχουμε ήδη μοιραστεί με άλλους μπορεί να προκαλέσει προβλήματα.
Ας υποθέσουμε ότι κλωνοποιούμε από έναν κεντρικό διακομιστή και στη συνέχεια κάνουμε κάποιες αλλαγές.
Το ιστορικό της υποβολής μας μοιάζει με αυτό:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/perils-of-rebasing-1.png" >}}" alt="Κλωνοποίηση αποθετήριου και επεξεργασία του.">
</div>
<div class="title">Figure 44. Κλωνοποίηση αποθετηρίου και επεξεργασία του.</div>
</div>
<div class="paragraph">
<p>Τώρα, κάποιος άλλος κάνει και άλλη δουλειά που περιλαμβάνει συγχώνευση και ωθεί τη δουλειά του στον κεντρικό διακομιστή.
Την ανακτούμε και συγχωνεύουμε τον νέο απομακρυσμένο κλάδο στη δουλειά μας, κάνοντας το ιστορικό μας να μοιάζει με αυτό:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/perils-of-rebasing-2.png" >}}" alt="Ανάκτηση περισσότερων υποβολών και συγχώνευσή τους στην εργασία μας.">
</div>
<div class="title">Figure 45. Ανάκτηση περισσότερων υποβολών και συγχώνευσή τους στην εργασία μας.</div>
</div>
<div class="paragraph">
<p>Στη συνέχεια, αυτός που ώθησε τη συγχωνευμένη δουλειά αποφασίζει να επιστρέψει και να αλλάξει τη βάση της εργασίας του· κάνει <code>git push --force</code> για να επανεγγράψει το ιστορικό στον διακομιστή.
Στη συνέχεια, ανακτούμε από τον διακομιστή και φέρνουμε τις νέες υποβολές.</p>
</div>
<div id="r_pre_merge_rebase_work" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/perils-of-rebasing-3.png" >}}" alt="Κάποιος ωθεί επανατοποθετημένες υποβολές" width="εγκαταλείποντας τις υποβολές στις οποίες έχουμε βασίσει τη δουλειά μας.">
</div>
<div class="title">Figure 46. Κάποιος ωθεί επανατοποθετημένες υποβολές, εγκαταλείποντας τις υποβολές στις οποίες έχουμε βασίσει τη δουλειά μας</div>
</div>
<div class="paragraph">
<p>Τώρα έχουμε μπλέξει άσχημα.
Εάν κάνουμε <code>git pull</code>, θα δημιουργήσουμε μια υποβολή συγχώνευσης που συμπεριλαμβάνει και τις δύο γραμμές του ιστορικού και το αποθετήριό μας θα μοιάζει με αυτό:</p>
</div>
<div id="r_merge_rebase_work" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/perils-of-rebasing-4.png" >}}" alt="Συγχώνευση της ίδιας εργασίας σε μία νέα υποβολή συγχώνευσης.">
</div>
<div class="title">Figure 47. Συγχώνευση της ίδιας εργασίας σε μία νέα υποβολή συγχώνευσης</div>
</div>
<div class="paragraph">
<p>Εφόσον το ιστορικό μας μοιάζει με το παραπάνω, αν τρέξουμε <code>git log</code>, θα δούμε δύο υποβολές που έχουν τον ίδιο συγγραφέα, ημερομηνία και μήνυμα, κάτι που προκαλεί σύγχυση.
Επιπλέον, αν ωθήσουμε αυτό το ιστορικό πίσω στον διακομιστή, θα επαναφέρουμε όλες εκείνες τις επανατοποθετημένες υποβολές στον κεντρικό εξυπηρετητή, κάτι που θα μπερδέψει ακόμα περισσότερο τον κόσμο.
Είναι αρκετά σίγουρο ότι ο άλλος προγραμματιστής δεν θέλει οι <code>C4</code> και <code>C6</code> να βρίσκονται στο ιστορικό· άλλωστε αυτός είναι ο λόγος για τον οποίο έκανε την αλλαγή της βάσης.</p>
</div>
</div>
<div class="sect3">
<h3 id="r_rebase_rebase">Επανατοποθέτηση σε επανατοποθετημένες υποβολές</h3>
<div class="paragraph">
<p>Αν παρόλα αυτά, <strong>όντως</strong> βρεθούμε σε μια τέτοια κατάσταση, το Git διαθέτει κάποια μαγικά κόλπα που θα μπορούν να μας βοηθήσουν.
Εάν κάποιος από την ομάδα μας ωθεί αλλαγές που επανεγγράφουν εργασία στην οποία βασίσαμε τη δική μας δουλειά, το πρόβλημά μας ανάγεται στο να εντοπίσουμε τι είναι δικό μας και τι έχει ξαναγραφτεί από αυτόν.</p>
</div>
<div class="paragraph">
<p>Το Git εκτός από το άθροισμα ελέγχου SHA-1 υπολογίζει επίσης ένα άθροισμα ελέγχου που βασίζεται ακριβώς στο επίθεμα που εισήχθη με την υποβολή.
Αυτό ονομάζεται “ταυτότητα επιθέματος” (patch-id).</p>
</div>
<div class="paragraph">
<p>Αν έλξουμε εργασία που ξαναγράφτηκε και αλλάξουμε τη βάση του δικού μας κλάδου ώστε αυτός να βασίζεται πάνω στις νέες υποβολές του συνεργάτη μας, το Git μπορεί συχνά να καταλάβει ποιες αλλαγές είναι μόνο δικές μας και να τις εφαρμόσει ξανά στον νέο κλάδο.</p>
</div>
<div class="paragraph">
<p>Για παράδειγμα, αν στο προηγούμενο σενάριο, όταν βρισκόμαστε στο <a href="ch00/r_pre_merge_rebase_work">Κάποιος ωθεί επανατοποθετημένες υποβολές, εγκαταλείποντας τις υποβολές στις οποίες έχουμε βασίσει τη δουλειά μας</a> αντί να κάνουμε συγχώνευση, τρέξουμε <code>git rebase teamone/master</code>, το Git:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Θα προσδιορίσει ποια δουλειά βρίσκεται μόνον στον κλάδο μας (<code>C2</code>, <code>C3</code>, <code>C4</code>, <code>C6</code>, <code>C7</code>)</p>
</li>
<li>
<p>Θα προσδιορίσει ποιες υποβολές δεν είναι υποβολές συγχώνευσης (<code>C2</code>, <code>C3</code>, <code>C4</code>)</p>
</li>
<li>
<p>Θα προσδιορίσει ποιες υποβολές δεν έχουν ξαναγραφτεί στον κλάδο στόχο (μόνο οι <code>C2</code> και <code>C3</code>, δεδομένου ότι η <code>C4</code> είναι το ίδιο επίθεμα με την <code>C4'</code>)</p>
</li>
<li>
<p>Θα εφαρμόσει αυτές τις υποβολές στον κλάδο <code>teamone/master</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Έτσι, αντί για το αποτέλεσμα που βλέπουμε στην <a href="ch00/r_merge_rebase_work">Συγχώνευση της ίδιας εργασίας σε μία νέα υποβολή συγχώνευσης</a>, θα καταλήγαμε σε κάτι που μοιάζει πιο πολύ με την <a href="ch00/r_rebase_rebase_work">Επανατοποθέτηση πάνω σε επανατοποθετημένη εργασία</a>.</p>
</div>
<div id="r_rebase_rebase_work" class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/perils-of-rebasing-5.png" >}}" alt="Επανατοποθέτηση πάνω σε επανατοποθετημένη εργασία.">
</div>
<div class="title">Figure 48. Επανατοποθέτηση πάνω σε επανατοποθετημένη εργασία</div>
</div>
<div class="paragraph">
<p>Αυτό θα έχει το επιθυμητό αποτέλεσμα μόνον εάν οι <code>C4</code> και <code>C4'</code> που έφτιαξε ο συνεργάτης μας είναι σχεδόν ακριβώς το ίδιο επίθεμα.
Διαφορετικά, η <code>git rebase</code> δεν θα είναι σε θέση να καταλάβει ότι πρόκειται για ουσιαστικά την ίδια υποβολή και θα προσθέσει ένα ακόμη επίθεμα παρόμοιο με το <code>C4</code> (το οποίο πιθανότατα θα αποτύχει να εφαρμοστεί χωρίς συγκρούσεις, αφού οι αλλαγές θα έχουν, τουλάχιστον εν μέρει, εφαρμοστεί ήδη).</p>
</div>
<div class="paragraph">
<p>Μπορούμε επίσης να απλοποιήσουμε τη διαδικασία τρέχοντας μία <code>git pull --rebase</code> αντί για  κανονικό <code>git pull</code>.
Ή θα μπορούσαμε να το κάνουμε χειροκίνητα με μία <code>git fetch</code> ακολουθούμενο από μία <code>git rebase teamone/master</code> στη συγκεκριμένη περίπτωση.</p>
</div>
<div class="paragraph">
<p>Εάν χρησιμοποιούμε την <code>git pull</code> και θέλουμε να κάνουμε <code>--rebase</code> την προεπιλογή, μπορούμε να ορίσουμε την τιμή του <code>pull.rebase</code> με κάτι σαν <code>git config --global pull.rebase true</code>.</p>
</div>
<div class="paragraph">
<p>Εάν αντιμετωπίζουμε την αλλαγή βάσης ως έναν τρόπο για να τακτοποιούμε και να εργαζόμαστε με τις υποβολές <strong>προτού</strong> τις ωθήσουμε και αν αλλάζουμε τη βάση μόνον υποβολών που δεν ήταν ποτέ διαθέσιμες δημοσίως, τότε θα είμαστε μια χαρά.
Εάν αλλάζουμε τη βάση υποβολών που έχουν ήδη ωθηθεί δημοσίως και κάποιοι άλλοι έχουν βασίσει μέρος της εργασίας τους σε αυτές τις υποβολές, τότε μπορεί να αντιμετωπίσουμε προβλήματα που θα προκαλέσουν στους συνεργάτες μας αγανάκτηση και περιφρόνηση προς το πρόσωπό μας.</p>
</div>
<div class="paragraph">
<p>Αν αυτό θεωρηθεί απαραίτητο σε κάποιο σημείο, θα πρέπει να βεβαιωθούμε ότι ο καθένας ξέρει να τρέχει την <code>git pull --rebase</code> για να προσπαθήσει να καταπραΰνει τον πόνο εκ των υστέρων.</p>
</div>
</div>
<div class="sect3">
<h3 id="_σύγκριση_αλλαγής_βάσης_και_συγχώνευσης">Σύγκριση αλλαγής βάσης και συγχώνευσης</h3>
<div class="paragraph">
<p>

Τώρα που έχουμε δει την αλλαγή βάσης και τη συγχώνευση σε δράση, ίσως να αναρωτιέστε ποια διαδικασία είναι καλύτερη.
Πριν απαντήσουμε σε αυτό το ερώτημα, ας θυμηθούμε τι ακριβώς είναι το ιστορικό.</p>
</div>
<div class="paragraph">
<p>Μια θεώρηση του πράγματος είναι ότι το ιστορικό των υποβολών του αποθετηρίου μας είναι <strong>καταγραφή όσων πραγματικά συνέβησαν</strong>.
Είναι ένα ιστορικό έγγραφο, πολύτιμο από μόνο του και δεν πρέπει να παραβιάζεται.
Από αυτήν τη σκοπιά, η αλλαγή του ιστορικού των υποβολών αποτελεί σχεδόν βλασφημία. <em>Ψευδόμαστε</em> για το τι πραγματικά συνέβη.
Τι γίνεται, λοιπόν, αν υπάρχει μια μπουρδουκλωμένη σειρά υποβολών συγχώνευσης;
Αυτός είναι ο τρόπος με τον οποίο συνέβησαν και το αποθετήριο πρέπει να τον διατηρήσει για πάντα.</p>
</div>
<div class="paragraph">
<p>Η αντίθετη άποψη είναι ότι το ιστορικό της υποβολής είναι η <strong>μία αφήγηση του πώς έγινε το έργο μας</strong>.
Δεν θα δημοσιεύαμε το προσχέδιο ενός βιβλίου και το εγχειρίδιο για το πώς θα συντηρήσουμε το λογισμικό μας αξίζει προσεκτική επεξεργασία.
Αυτό είναι το στρατόπεδο που χρησιμοποιεί εργαλεία όπως οι <code>rebase</code> και <code>filter-branch</code> για να αφηγηθεί την ιστορία με τον τρόπο που είναι ο καλύτερος δυνατός για τους μελλοντικούς αναγνώστες.</p>
</div>
<div class="paragraph">
<p>Τώρα, στο ερώτημα ποια από τις συγχώνευση ή αλλαγή βάσης είναι καλύτερη· είναι φανερό ότι η απάντηση δεν είναι και τόσο απλή.
Το Git είναι ένα ισχυρό εργαλείο και μας επιτρέπει να κάνουμε πολλά πράγματα στο ιστορικό ή με το ιστορικό, αλλά κάθε ομάδα και κάθε έργο είναι διαφορετικά.
Εφόσον γνωρίζουμε πώς λειτουργούν και οι δύο αυτές διαδικασίες, μπορούμε να αποφασίσουμε ποια είναι η καλύτερη σε κάθε περίσταση.</p>
</div>
<div class="paragraph">
<p>Σε γενικές γραμμές, ο τρόπος να αποκτήσουμε το καλύτερο και από τους δύο κόσμους είναι να αναθεωρήσουμε τις τοπικές αλλαγές που έχουμε κάνει, αλλά δεν έχουμε μοιραστεί με άλλους ακόμα, πριν τις ωθήσουμε, προκειμένου να καθαρίσουμε το ιστορικό μας, αλλά ποτέ να μην τοποθετούμε τίποτα που έχουμε ωθήσει κάπου.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>